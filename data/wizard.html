<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/7.0.0/math.min.js" type="text/javascript"></script>
        <script src="https://cdn.jsdelivr.net/npm/iconify-icon@1.0.7/dist/iconify-icon.min.js"></script>
		<title>Meterstanden Wizard</title>
	</head>
	<body>
        <noscript><strong>Please enable JavaScript to continue.</strong></noscript>

        <script src="./wizard.js"></script>
        <link rel="stylesheet" type="text/css" href="./wizard.css">

        <h1>Deze wizard helpt je oude meterstanden te importeren in de P1 Dongle</h1>
        <br>
        <h2>Vul je meterstanden van de afgelopen twee jaar in en de wizard berekend de tussenliggende punten en vult deze in in de month.json file</h2>
        <h3>De wizard zal de huidige standen niet aanpassen</h3>

        <div id="input" class="wizard-input">
            <p>Vul hier de oude meterstanden in. Voor onbekend voer een '-' in.</p>
            <form id="wizard-addrow">
                <div class="form-group">
                    <label>Meetdatum</label>
                    <input type="date" name="date" id="date" class="form-control" value="" required="true">
                    <button type="submit" id="addrow2" class="btn btn-primary save-btn">Lees huidige meterstand in</button>
                </div>                
                <div class="form-group">
                    
                    <label>Stroom 1 (kWh)</label> <input type="text" name="ED_TARIF1" id="ED_TARIF1" class="form-control" value="" required="">
                    <label>Stroom 2 (kWh)</label> <input type="text" name="ED_TARIF2" id="ED_TARIF2" class="form-control" value="" required="">
                </div>
                <div class="form-group">
                    <label>Teruglevering 1 (kWh)</label> <input type="text" name="ER_TARIF1" id="ER_TARIF1" class="form-control" value="" required="">
                    <label>Teruglevering 2 (kWh)</label> <input type="text" name="ER_TARIF2" id="ER_TARIF2" class="form-control" value="" required="">
                </div>
                <div class="form-group">
                    <label>Gas 1 (m³)</label> <input type="text" name="GD" id="GD" class="form-control" value="" required="">                
                    <label>Water 1 (m³)</label> <input type="text" name="WD" id="WD" class="form-control" value="" required="">
                </div>

                <div style="align-items: center;column-span: all;">
                    <button type="submit" id="addrow1" class="btn btn-primary save-btn">Voeg ingevulde standen toe</button>
                    
                </div>
                
            </form>
            </br>
            </br>
            <fieldset>
                <legend>Lijst met meterstanden</legend>
                <table class="table">
                    <thead>
                        <tr>
                            <th>Meetdatum</th>
                            <th>Stroom 1 (kWh)</th>
                            <th>Stroom 2 (kWh)</th>
                            <th>Teruglevering 1 (kWh)</th>
                            <th>Teruglevering 2 (kWh)</th>
                            <th>Gas 1 (m³)</th>
                            <th>Water 1 (m³)</th>
                            <th>ACTIONS</th>
                        </tr>
                    </thead>
                    <tbody id="TABLE_METERSTANDEN">
                        <!--GENERATED-->
                    </tbody>
                </table>
            </fieldset>
        </div>

        <!--<div id="analyse" class="wizard-analyse">
            <form>
                <fieldset>
                <legend>
                    <p>Selecteer de gewenste manier van het berekenen van tussentijdse standen.</p>
                    <p>- Rechtlijnig berekend tussen twee meetmomenten de stap per dag dezelfde waarde. Dit resulteerd in elke maand hetzelfde</p>
                    <p>- Gebogen berekend het verbruik op basis van het gemiddelde profiel; in de winter wat meer dan in de zomer.</p>
                </legend>
                <div class="form-group">
                    <button type="submit" id="analyse-plot"class="btn btn-primary save-btn">Plot </button>
                    <button type="submit" id="analyse-lin" class="btn btn-primary save-btn">Analyse LINEAR </button>
                    <button type="submit" id="analyse-cur" class="btn btn-primary save-btn">Analyse CURVE</button>
                </div>
                </fieldset>
            </form>
        </div>-->
        <div id="analyse" class="wizard-analyse">
            <p>Selecteer de gewenste manier van het berekenen van tussentijdse standen.</p>
            <p>- Rechtlijnig berekend tussen twee meetmomenten de stap per dag dezelfde waarde. Dit resulteerd in elke maand hetzelfde verbruik.</p>
            <p>- Gebogen berekend het verbruik op basis van het gemiddelde profiel; in de winter wat meer dan in de zomer.</p>
            <div class="form-group">
                <div id="analyse-plot"class="btn btn-primary save-btn">Plot meterstanden</div>
                <div id="analyse-lin" class="btn btn-primary save-btn">Bereken punten linear</div>
                <div id="analyse-cur" class="btn btn-primary save-btn">Bereken punten gebogen</div>
            </div>
        </div>

        <div id="preview" class="wizard-preview">
            <h1>Preview verbruik analyse</h1>
            <div id="intro">Hier verschijnt na het invullen van alle meterstanden een voorbeeld</div>
            <div id="charts-preview">
                <canvas id="chartE" width="300" height="300"></canvas>
		        <canvas id="chartG" width="300" height="300"></canvas>
                <canvas id="chartW" width="300" height="300"></canvas>
            </div>            
        </div>

        <div id="export" class="wizard-export">
            <h1>Exporteer de gegevens als months.json. Alleen de laatste 24 maanden worden geëxporteerd.</h1>
            <form>
                <fieldset>
                  <legend>Na het goedkeuren van het voorbeeld kan je de months.json downloaden (of direct op de dongle opslaan)</legend>
                  <div class="form-group" id="export-form">
                    <button type="submit" id="export-download" class="btn btn-primary save-btn">DOWNLOAD JSON</button>
                    <button type="submit" id="export-store" class="btn btn-primary save-btn">STORE JSON</button>
                  </div>
                </fieldset>
            </form>
        </div>

        <div class="spinner-border text-primary"></div>

	</body>
</html>